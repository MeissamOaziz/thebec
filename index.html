<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thébec: L'Essence du Québec</title>
    <!-- Tailwind CSS CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts for Playfair Display (titles) and Inter (body) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Custom CSS for scrollbar and other specific styles */
        .custom-scrollbar::-webkit-scrollbar {
            height: 8px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        /* Ensure full height for the main content area */
        html, body, #root {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden; /* Prevent body scroll, main content handles its own */
        }

        /* Specific styles for the hero section background to ensure no borders */
        .hero-background {
            background-image: url('/Fjord-du-Saguenay.jpg');
            background-size: cover;
            background-position: center;
            height: calc(100vh - 64px); /* Full viewport height minus header height */
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden; /* Ensure content doesn't overflow */
        }
    </style>
</head>
<body class="min-h-screen bg-gray-100 font-inter text-gray-800 flex flex-col overflow-hidden">
    <div id="root" class="min-h-screen flex flex-col"></div>

    <!-- React and ReactDOM CDNs -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel Standalone for in-browser JSX compilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        // This script block acts as your 'script.js' file in a real project

        // Define translations object
        const translations = {
            fr: {
                backToTeas: "← Retour aux Thés",
                heroTitle: "Thébec: L'Essence du Québec",
                heroDescription: "Découvrez nos mélanges de thés exquis, élaborés avec l'esprit des régions uniques du Québec et des éléments naturels.",
                signatureBlendsTitle: "Nos Mélanges Signature",
                mainIngredientsLabel: "Ingrédients principaux :",
                noteText: "*Note : L'image de fond est l'emballage réel du produit."
            },
            en: {
                backToTeas: "← Back to Teas",
                heroTitle: "Thébec: The Essence of Quebec",
                heroDescription: "Discover our exquisite tea blends, crafted with the spirit of Quebec's unique regions and natural elements.",
                signatureBlendsTitle: "Our Signature Blends",
                mainIngredientsLabel: "Main Ingredients:",
                noteText: "*Note: Background image is the actual product packaging."
            }
        };

        // Create a React Context for language
        const LanguageContext = React.createContext();

        // Main App component
        function App() {
            // Destructure React Hooks from the global React object
            const { useState, useEffect } = React;

            // State to manage the currently active tea product for detailed view
            const [activeTea, setActiveTea] = useState(null);
            // State to control the transition animation
            const [isTransitioning, setIsTransitioning] = useState(false);
            // State for language, default to French
            const [language, setLanguage] = useState('fr');

            // Data for each tea product, including details and actual image paths
            const teaData = [
                {
                    id: 'delice-boreal',
                    name: 'Délice Boréal',
                    element: 'Éther',
                    poeticText: 'Sous les aurores boréales, le bleuet sauvage danse avec la camomille. Un thé noir enveloppant, porté par le parfum de la forêt boréale. Un moment suspendu entre éther et mystère.',
                    mainIngredients: 'Bleuets, thé noir, camomille, pétales de rose, myrique baumier',
                    imagePath: '/Délice Boréal.jpg',
                    backgroundColorClass: 'bg-blue-900/50',
                    elementIcon: (
                        <svg className="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16v4m-2-2h4m5-16v4m-2-2h4M8 20h.01M12 20h.01M16 20h.01M12 14v.01M12 10v.01M12 6v.01M16 10v.01M16 14v.01M8 10v.01M8 14v.01"></path>
                        </svg>
                    )
                },
                {
                    id: 'terre-ancestrale',
                    name: 'Terre Ancestrale',
                    element: 'Terre',
                    poeticText: 'Un sol riche, un souffle ancien. Les aiguilles de sapin rencontrent la poire mûre et les feuilles de myrtille dans une infusette qui respire la sérénité. Une ancre dans le cœur de la forêt.',
                    mainIngredients: 'Thé pu\'er, feuilles de myrtille, poire séchée, sapin baumier, camomille',
                    imagePath: '/Terre Ancestrale.jpg',
                    backgroundColorClass: 'bg-stone-900/50',
                    elementIcon: (
                        <svg className="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m0 0l-7 7-7-7m7 7v10a1 1 0 001 1h3"></path>
                        </svg>
                    )
                },
                {
                    id: 'couleurs-automne',
                    name: 'Couleurs d’Automne',
                    element: 'Feu',
                    poeticText: 'Le crépitement des feuilles, l’air sucré des vergers, la chaleur du bois. Un thé rond, aux notes de pomme, canneberge et érable, qui capture la magie des jours dorés.',
                    mainIngredients: 'Rooibos, écorce d’érable, pomme séchée, canneberges, verge d’or',
                    imagePath: '/Couleurs d\'Automne.jpg',
                    backgroundColorClass: 'bg-red-900/50',
                    elementIcon: (
                        <svg className="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M17 18a2 2 0 002-2V9.5a2 2 0 00-2-2h-3.586a1 1 0 01-.707-.293l-1.414-1.414a1 1 0 00-.707-.293H7a2 2 0 00-2 2V16a2 2 0 002 2h10z"></path>
                        </svg>
                    )
                },
                {
                    id: 'matin-brume',
                    name: 'Matin de Brume',
                    element: 'Eau',
                    poeticText: 'Quand l’océan s’étire en brume sur les caps, une fraîcheur pure monte du sol. Ce mélange végétal vivifiant unit le thé vert, la menthe et la mer pour éveiller les sens.',
                    mainIngredients: 'Thé vert, menthe poivrée, citronnelle, algue dulse, mélisse',
                    imagePath: '/Matin de Brume.jpg',
                    backgroundColorClass: 'bg-cyan-900/50',
                    elementIcon: (
                        <svg className="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M4 19l6-6 4 4 6-6"></path>
                        </svg>
                    )
                },
                {
                    id: 'vent-cretes',
                    name: 'Vent des Crêtes',
                    element: 'Air',
                    poeticText: 'Légèreté des hauteurs, parfums fleuris, et silence du vent. Lavande, mélisse et thé blanc s’unissent dans une infusion aérienne, aussi subtile qu’une pensée qui passe.',
                    mainIngredients: 'Thé blanc, lavande, mélisse, ortie, fleurs de trèfle rouge',
                    imagePath: '/Vent des Cretes.jpg',
                    backgroundColorClass: 'bg-purple-900/50',
                    elementIcon: (
                        <svg className="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                    )
                },
            ];

            // Handler for clicking a tea product on the stage
            const handleTeaClick = (tea) => {
                setIsTransitioning(true); // Start transition out
                setTimeout(() => {
                    setActiveTea(tea); // Set active tea after a short delay to allow transition to start
                }, 600); // Match this with the transition duration for the theatre scene exiting
            };

            // Handler for going back to the landing page
            const handleBackToLanding = () => {
                setIsTransitioning(true); // Start transition out
                setTimeout(() => {
                    setActiveTea(null); // Clear active tea
                    setIsTransitioning(false); // End transition after activeTea is null, allowing landing to transition in
                }, 600); // Match this with the transition duration for the product slide exiting
            };

            // Toggle language
            const toggleLanguage = () => {
                setLanguage(prevLang => prevLang === 'fr' ? 'en' : 'fr');
            };

            return (
                // Wrap the entire application with LanguageContext.Provider
                <LanguageContext.Provider value={{ language, setLanguage }}>
                    {/* Main container for the application */}
                    <div className="min-h-screen bg-gray-100 font-inter text-gray-800 flex flex-col overflow-hidden">
                        {/* Header section */}
                        <header className="w-full bg-gradient-to-r from-stone-800 to-stone-900 text-white p-4 shadow-lg z-20">
                            <div className="container mx-auto flex justify-between items-center">
                                {/* Thébec Logo */}
                                <div className="flex items-center">
                                    <img src="/Thébec transparent large.png" alt="Thébec Logo" className="h-10 mr-3" onError={(e) => { e.target.onerror = null; e.target.src = 'https://placehold.co/100x40/E0E0E0/808080?text=Thébec'; }} />
                                    <h1 className="text-4xl font-playfair-display font-bold text-gold-300 tracking-wide">Thébec</h1>
                                </div>

                                <div className="flex items-center space-x-4">
                                    {activeTea && (
                                        <button
                                            onClick={handleBackToLanding}
                                            className="px-6 py-2 bg-gradient-to-r from-gold-500 to-gold-600 text-white font-semibold rounded-full shadow-lg hover:from-gold-600 hover:to-gold-700 transition-all duration-300 ease-in-out transform hover:scale-105"
                                        >
                                            {translations[language].backToTeas}
                                        </button>
                                    )}
                                    {/* Language Toggle Button */}
                                    <button
                                        onClick={toggleLanguage}
                                        className="px-4 py-2 bg-stone-700 text-white font-semibold rounded-full shadow-md hover:bg-stone-600 transition-colors duration-200"
                                    >
                                        {language === 'fr' ? 'EN' : 'FR'}
                                    </button>
                                </div>
                            </div>
                        </header>

                        {/* Main content area */}
                        <main className="flex-grow relative flex flex-col">
                            {/* Conditional rendering based on activeTea state */}
                            {!activeTea ? (
                                // Landing Page Section
                                <div className={`relative w-full flex-grow flex flex-col items-center
                                    transition-all duration-700 ease-in-out transform
                                    ${isTransitioning ? 'opacity-0 scale-90' : 'opacity-100 scale-100'}`}>

                                    {/* Hero Section - now full width/height below header, no borders */}
                                    <section className="hero-background relative w-full flex-grow flex items-center justify-center text-white overflow-hidden">
                                        <div className="absolute inset-0 bg-black/40"></div>
                                        <div className="relative z-10 text-center p-8">
                                            <h2 className="text-6xl font-playfair-display font-bold mb-4 drop-shadow-lg">{translations[language].heroTitle}</h2>
                                            <p className="text-xl font-inter max-w-2xl mx-auto opacity-90">
                                                {translations[language].heroDescription}
                                            </p>
                                        </div>
                                    </section>

                                    {/* Products Showcase Section */}
                                    <section className="w-full max-w-7xl mx-auto py-12 px-4">
                                        <h3 className="text-4xl font-playfair-display font-bold text-center text-green-800 mb-10">{translations[language].signatureBlendsTitle}</h3>
                                        <div className="flex flex-nowrap overflow-x-auto gap-8 pb-4 custom-scrollbar">
                                            {teaData.map((tea) => (
                                                <div
                                                    key={tea.id}
                                                    className="flex-none w-64 h-80 bg-white rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 ease-in-out cursor-pointer group overflow-hidden border border-gray-200"
                                                    onClick={() => handleTeaClick(tea)}
                                                >
                                                    {/* Product Image */}
                                                    <img
                                                        src={tea.imagePath}
                                                        alt={tea.name}
                                                        className="w-full h-2/3 object-cover rounded-t-xl transition-transform duration-300 group-hover:scale-110"
                                                        onError={(e) => { e.target.onerror = null; e.target.src = 'https://placehold.co/256x170/E0E0E0/808080?text=Image+Not+Found'; }}
                                                    />
                                                    {/* Product Name */}
                                                    <div className="p-4 text-center">
                                                        <h4 className="text-2xl font-playfair-display font-semibold text-stone-800">{tea.name}</h4>
                                                        <p className="text-sm text-gray-600">{tea.element}</p>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </section>
                                </div>
                            ) : (
                                // Product Slide for detailed view - still centered
                                <ProductSlide tea={activeTea} isTransitioning={isTransitioning} onTransitionEnd={() => setIsTransitioning(false)} />
                            )}
                        </main>

                        {/* Footer section */}
                        <footer className="w-full bg-stone-900 text-white text-center p-4 text-sm z-20">
                            <p>&copy; {new Date().getFullYear()} Thébec. All rights reserved.</p>
                        </footer>
                    </div>
                </LanguageContext.Provider>
            );
        }

        // Product Slide Component
        function ProductSlide({ tea, isTransitioning, onTransitionEnd }) {
            // Destructure React Hooks from the global React object
            const { useEffect, useRef, useContext } = React;
            const { language } = useContext(LanguageContext);

            const slideRef = useRef(null);

            // Effect to handle transition end
            useEffect(() => {
                if (!isTransitioning && slideRef.current) {
                    const timer = setTimeout(() => {
                        onTransitionEnd();
                    }, 500); // Must match transition duration for the incoming slide
                    return () => clearTimeout(timer);
                }
            }, [isTransitioning, onTransitionEnd]);

            return (
                <div
                    ref={slideRef}
                    className={`relative w-full max-w-6xl h-[80vh] bg-cover bg-center rounded-lg shadow-2xl overflow-hidden flex items-center justify-center p-8
                        transition-all duration-700 ease-in-out transform
                        ${isTransitioning ? 'opacity-0 scale-90' : 'opacity-100 scale-100'}`}
                    style={{ backgroundImage: `url(${tea.imagePath})` }}
                >
                    {/* Overlay for readability */}
                    <div className="absolute inset-0 bg-black/50"></div>

                    <div className={`relative z-10 p-8 rounded-lg ${tea.backgroundColorClass} max-w-3xl text-white shadow-xl`}>
                        <div className="flex flex-col items-center justify-center mb-4">
                            {tea.elementIcon}
                            <h2 className="text-5xl font-playfair-display font-bold mt-2 text-center">{tea.name}</h2>
                        </div>
                        <p className="text-xl font-inter mb-4 text-center italic opacity-90">{tea.poeticText}</p>
                        <p className="text-lg font-inter text-center">
                            <span className="font-bold">{translations[language].mainIngredientsLabel}</span> {tea.mainIngredients}
                        </p>
                        <p className="text-sm mt-4 text-center opacity-70">
                            {translations[language].noteText}
                        </p>
                    </div>
                </div>
            );
        }

        // Render the App component into the 'root' div
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
